
<%= form_tag create_price_path, validate:true do %>
<table class="ads-table tablesaw tablesaw-stack" data-tablesaw-mode="stack">
	<thead>
		<th class="text-right"><%= t "views.ad.crop_type" %>:</th>
		<th class="text-right"><%= t "views.my_page.list.price" %>:</th>
		<th class="text-right"><%= "Change" %>:</th>
		<th class="text-right"><%= "Update" %>:</th>
		<th class="text-right"><%= I18n.locale == :en ? "Published" : "Tarehe" %>:</th>
		<% if current_view == "dar"  || current_view == "mbeya" || current_view == "iringa" -%>
			<th class="is-buttonrow"></th>
		<% end -%>
	</thead>
	<tbody>

	<tr>
	<%=fields_for 'prices[]', @new_prices[2] do |price| %>
		
			
				<td class="text-right"><%= I18n.locale == :en ? "Groundnuts" : "Karanga" %></td>
				<td class="text-right"><%= number_to_currency(@nut_prices.first.price, precision: 0) %></td>
				<%= price.hidden_field :crop_type_id, :value => 19 %>
			
				<td><span class="ads-published_at"><%= l(@nut_prices.first.created_at, format: :short) %>
				</span><span><%= "(" + time_ago_in_words(@nut_prices.first.created_at).downcase + (I18n.locale == :sw ? "" : " ago") + ")" %></span></td>
			
				<div class="input-wrapper">
					<td class="text-right">
						<%= price.number_field :price, :min => 1, :class => "is-inline", :style => "width: 100px;" %>
					</td>
				</div>
			
			<% if current_view =="dar" %>
				<%= price.hidden_field :region_id, :value => 2 %>
			<% elsif current_view == "iringa" %>
				<%= price.hidden_field :region_id, :value => 5 %>
			<% else %>
				<%= price.hidden_field :region_id, :value => 13 %>
			<% end %>
		
	<% end %>
	</tr>

	<tr>
	<%=fields_for 'prices[]', @new_prices[5] do |price| %>
		
			
				<td class="text-right"><%= I18n.locale == :en ? "Wheat" : "Ngano" %></td>
				<td class="text-right"><%= number_to_currency(@wheat_prices.first.price, precision: 0) %></td>
				<%= price.hidden_field :crop_type_id, :value => 30 %>
			
				<td><span class="ads-published_at"><%= l(@wheat_prices.first.created_at, format: :short) %>
				</span><span><%= "(" + time_ago_in_words(@wheat_prices.first.created_at).downcase + (I18n.locale == :sw ? "" : " ago") + ")" %></span></td>
			
				<div class="input-wrapper">
					<td class="text-right">
						<%= price.number_field :price, :min => 1, :class => "is-inline", :style => "width: 100px;" %>
					</td>
				</div>
			
			<% if current_view =="dar" %>
				<%= price.hidden_field :region_id, :value => 2 %>
			<% elsif current_view == "iringa" %>
				<%= price.hidden_field :region_id, :value => 5 %>
			<% else %>
				<%= price.hidden_field :region_id, :value => 13 %>
			<% end %>
		
	<% end %>
	</tr>

	<tr>
	<%=fields_for 'prices[]', @new_prices[0] do |price| %>
		
			
				<td class="text-right"><%= I18n.locale == :en ? "Maize" : "Mahindi" %></td>
				<td class="text-right"><%= number_to_currency(@maize_prices.first.price, precision: 0) %></td>
				<%= price.hidden_field :crop_type_id, :value => 1 %>
			
				<td><span class="ads-published_at"><%= l(@maize_prices.first.created_at, format: :short) %>
				</span><span><%= "(" + time_ago_in_words(@maize_prices.first.created_at).downcase + (I18n.locale == :sw ? "" : " ago") + ")" %></span></td>
			
				<div class="input-wrapper">
					<td class="text-right">
						<%= price.number_field :price, :min => 1, :class => "is-inline", :style => "width: 100px;" %>
					</td>
					
				</div>
			
			<% if current_view =="dar" %>
				<%= price.hidden_field :region_id, :value => 2 %>
			<% elsif current_view == "iringa" %>
				<%= price.hidden_field :region_id, :value => 5 %>
			<% else %>
				<%= price.hidden_field :region_id, :value => 13 %>
			<% end %>
		
	<% end %>
	</tr>

	<tr>
	<%=fields_for 'prices[]', @new_prices[3] do |price| %>
		
			
				<td class="text-right"><%= I18n.locale == :en ? "Beans" : "Maharage" %></td>
				<td class="text-right"><%= number_to_currency(@bean_prices.first.price, precision: 0) %></td>
				<%= price.hidden_field :crop_type_id, :value => 5 %>
			
				<td><span class="ads-published_at"><%= l(@bean_prices.first.created_at, format: :short) %>
				</span><span><%= "(" + time_ago_in_words(@bean_prices.first.created_at).downcase + (I18n.locale == :sw ? "" : " ago") + ")" %></span></td>
			
				<div class="input-wrapper">
					<td class="text-right">
						<%= price.number_field :price, :min => 1, :class => "is-inline", :style => "width: 100px;" %>
					</td>
					
				</div>
			
			<% if current_view =="dar" %>
				<%= price.hidden_field :region_id, :value => 2 %>
			<% elsif current_view == "iringa" %>
				<%= price.hidden_field :region_id, :value => 5 %>
			<% else %>
				<%= price.hidden_field :region_id, :value => 13 %>
			<% end %>
		
	<% end %>
	</tr>

	<tr>
	<%=fields_for 'prices[]', @new_prices[4] do |price| %>
		
			
				<td class="text-right"><%= I18n.locale == :en ? "Soybeans" : "Soya" %></td>
				<td class="text-right"><%= number_to_currency(@soy_prices.first.price, precision: 0) %></td>
				<%= price.hidden_field :crop_type_id, :value => 26 %>
			
				<td><span class="ads-published_at"><%= l(@soy_prices.first.created_at, format: :short) %>
				</span><span><%= "(" + time_ago_in_words(@soy_prices.first.created_at).downcase + (I18n.locale == :sw ? "" : " ago") + ")" %></span></td>
			
				<div class="input-wrapper">
					<td class="text-right">
						<%= price.number_field :price, :min => 1, :class => "is-inline", :style => "width: 100px;" %>
					</td>
					
				</div>
			
			<% if current_view =="dar" %>
				<%= price.hidden_field :region_id, :value => 2 %>
			<% elsif current_view == "iringa" %>
				<%= price.hidden_field :region_id, :value => 5 %>
			<% else %>
				<%= price.hidden_field :region_id, :value => 13 %>
			<% end %>
		
	<% end %>
	</tr>

	<tr>
	<%=fields_for 'prices[]', @new_prices[1] do |price| %>
		
			
				<td class="text-right"><%= I18n.locale == :en ? "Rice" : "Mpunga" %></td>
				<td class="text-right"><%= number_to_currency(@rice_prices.first.price, precision: 0) %></td>
				<%= price.hidden_field :crop_type_id, :value => 11 %>
			
				<td><span class="ads-published_at"><%= l(@rice_prices.first.created_at, format: :short) %>
				</span><span><%= "(" + time_ago_in_words(@rice_prices.first.created_at).downcase + (I18n.locale == :sw ? "" : " ago") + ")" %></span></td>
			
				<div class="input-wrapper">
					<td class="text-right">
						<%= price.number_field :price, :min => 1, :class => "is-inline", :style => "width: 100px;" %>
					</td>
					
				</div>
			
			<% if current_view =="dar" %>
				<%= price.hidden_field :region_id, :value => 2 %>
			<% elsif current_view == "iringa" %>
				<%= price.hidden_field :region_id, :value => 5 %>
			<% else %>
				<%= price.hidden_field :region_id, :value => 13 %>
			<% end %>
		
	<% end %>
	</tr>

	</tbody>
</table>
	<div style="display: flex; justify-content: center;">
		<%= submit_tag("Publish", :class => "button is-block", data: { confirm: "Are you sure you want to publish new prices to the live index?" }) %>
	</div>
 <% end %>
